{%extends 'index.html'%}

{% block content %}


<div class='row justify-content-center m-5'>
    <div class="col-md-10 col-lg-5">
      <h4><center>Buscar Proveedor</center></h4>
      <div  class="form-group">
        <form id="form_busqueda" name="form_busqueda" method="post">
            {% csrf_token %}
          {{ busquedaform.as_p }}  
          <div  style="float: right;">
            <button class="btn btn-primary" >Buscar</button>
       
          </div>                   
        </form>
    </div>
    </div>




<div style="display: flex; justify-content: space-between;">
    <div>
        <p>N de proveedores encontrados:</p>
    </div>
    <div style="display: flex;">
        <p style="margin:10px;">Mostrados:</p>
        <select style="width: 80px;" class="form-select form-select-sm" aria-label=".form-select-sm example">
            <option selected>1-10</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
        </select>
    </div>
</div>
<div>
    <h3 style="text-align: center;">Relacion de proveedores</h3>
</div>
<table class="table table-striped table-hover">
    <thead>
        <tr>
            <th scope="col">Item</th>
            <th scope="col">Codigo</th>
            <th scope="col">Nombre</th>
            <th scope="col">RUC</th>
            <th scope="col">Telefono</th>
            <th scope="col">Empresa</th>
            <th scope="col">Acciones</th>
        </tr>        
    </thead>
    
    <tbody>
        {% if proveedores_list %}
        {% for prov in proveedores_list %}
        <tr scope="row">
            {% if prov.empresa == null %}
                <td>{{ prov.id }}</td>
                <td>{{ prov.persona.id }}</td>
                <td>{{ prov.persona.nombre }}</td>
                <td>{{ prov.persona.dni }}</td>
                <td>{{ prov.persona.telefono }}</td>
                <td>
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" >
                </td>
            {% else %}
                <td>{{ prov.id }}</td>
                <td>{{ prov.empresa.id }}</td>
                <td>{{ prov.empresa.nombre }}</td>
                <td>{{ prov.empresa.ruc }}</td>
                <td>{{ prov.empresa.telefono }}</td>
                <td>
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked>
                </td>
            {% endif %}
            <td>
                <button type="button" class="btn btn-primary">Ver</button>
                <button type="button" class="btn btn-success">Editar</button>
                <button type="button" class="btn btn-danger">Eliminar</button>
            </td>
        </tr>
        {% endfor %}
        {% else %}
        <h4>No se encontraron datos</h4>
        {% endif %}
    </tbody>
</table>

{% endblock %}
